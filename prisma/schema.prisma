generator client {
    provider = "prisma-client-js"
    binaryTargets = ["native", "linux-musl-arm64-openssl-3.0.x"]
    output = "/home/ubuntu/tenerife_music/nextjs_space/node_modules/.prisma/client"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Subscription {
  id        String   @id @default(cuid())
  email     String   @unique
  createdAt DateTime @default(now()) @map("created_at")

  @@map("subscriptions")
}

model Contact {
  id        String   @id @default(cuid())
  name      String
  email     String
  message   String
  createdAt DateTime @default(now()) @map("created_at")

  @@map("contacts")
}

model Event {
  id                  String   @id @default(cuid())
  event_id            String   @unique
  name                String
  type                String
  genres              String[]
  tags                String[]
  start_date          DateTime
  end_date            DateTime
  timezone            String
  venue_id            String
  venue_name          String
  venue_address       String
  venue_coordinates   Json
  description         String?
  image_url           String?
  ticket_url          String?
  affiliate_source    String?
  affiliate_code      String?
  affiliate_commission Float?
  created_at          DateTime @default(now())
  updated_at          DateTime @updatedAt

  @@map("events")
}

model AffiliateClick {
  id            String   @id @default(cuid())
  event_id      String
  affiliate_code String
  clicked_at    DateTime @default(now())
  user_agent    String?
  ip_address    String?

  @@map("affiliate_clicks")
}
